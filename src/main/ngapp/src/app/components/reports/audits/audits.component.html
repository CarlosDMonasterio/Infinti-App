<div class="container-fluid mt-3">
    <div class="row">
        <div class="col">
        </div>
    </div>

    <div class="row border shadow-sm">
        <div class="col-sm-12 bg-white">
            <div *ngIf="!reports || !reports.length" class="p-3">
                <span class="text-muted font-italic">No audit reports available</span>
            </div>

            <table class="table table-hover table-borderless mt-3" *ngIf="reports && reports.length">
                <thead class="small text-uppercase border bg-light text-secondary">
                <tr>
                    <th class="border-right py-2" style="width: 150px">Date</th>
                    <th class="border-right py-2" style="width: 200px">Reporter</th>
                    <th class="border-right py-2" style="width: 350px">Location</th>
                    <th class="py-2">Results</th>
                </tr>
                </thead>

                <tbody class="border-bottom" style="font-size: 0.95em">
                <tr *ngFor="let report of reports; let i = index" class="border-top">
                    <td class="small text-nowrap" style="width: 150px">
                        {{report.creationTime | date : 'EEE, MMM d, yyyy'}}
                        <div>{{report.creationTime | date : 'h:mm:ss a'}}</div>
                    </td>
                    <td>{{report.account.firstName}} {{report.account.lastName}}
                        <div class="small text-muted">{{report.account.email}}</div>
                    </td>
                    <td>
                        <span *ngIf="report.district">{{report.district.label}} District</span>
                        <div *ngIf="report.school" class="small text-muted">{{report.school.name}}</div>
                    </td>
                    <td class="p-0">
                        <div class="d-flex mt-3">
                            <div class="border text-center ml-2 bg-white d-inline-block"
                                 *ngFor="let question of sortQuestions(report.questions)" style="width: 30px">

                                <i class="fa fa-fw" [ngbTooltip]="question.label"
                                   *ngIf="question.expected !== undefined"
                                   [ngClass]="{'fa-check text-success': question.answer === question.expected,
                                   'fa-times text-danger': question.answer !== question.expected}"></i>

                                <i class="fa fa-fw fa-comments-o text-muted" [ngbTooltip]="question.comments"
                                   *ngIf="question.comments"></i>
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>

            <div>
                <app-mini-pager [available]="paging.available" [numberPerPage]="paging.limit"
                                (nextPage)="pageQualityAudits($event)"
                                class="mb-2"></app-mini-pager>
            </div>
        </div>
    </div>
</div>